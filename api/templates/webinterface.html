<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Cool Name</title>
    {% load static %}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="{% static 'css/webinterfaceStyle.css' %}">
    <script type="text/javascript">

        const mode ="{{ mode }}"

        {% if dataFrame or dataFrame1 and dataFrame2 %}
            const firstChosenRestrictionEnzymes = "{{ firstChosenRestrictionEnzymes }}"
            const basepairLengthToBeSequenced = "{{ basepairLengthToBeSequenced }}"
            const pairedEndChoice = "{{ pairedEndChoice }}"
            const sequencingYield = "{{ sequencingYield }}"
            const coverage = "{{ coverage }}"
        {% endif %}

        {% if dataFrame %}
            const dataFrameData = {{ dataFrame|safe }};
        {% endif %}

        {% if dataFrame1 and dataFrame2 %}
            const dataFrame1Data = {{ dataFrame1|safe }};
            const dataFrame2Data = {{ dataFrame2|safe }};
            const secondChosenRestrictionEnzymes = "{{ secondChosenRestrictionEnzymes }}"
        {% endif %}
    </script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script src="{% static 'js/util.js' %}"></script>
    <script src="{% static 'js/dataFrame.js' %}"></script>
    <script src="{% static 'js/form.js' %}"></script>
    <script src="{% static 'js/popovers.js' %}"></script>
</head>
<body>
    {% if messages %}
        {% for message in messages %}
          <div class="alert alert-danger">{{ message|safe }}</div>
        {% endfor %}
  {% endif %}

    <h1>Insert cool name</h1>


    <div class="container-sm">
        <form  action='.' method="POST" enctype="multipart/form-data" >
            {% csrf_token %}
            <div class="row form-group">
                <div id="customFile" class="col-12 d-flex justify-content-center">
                    <div class="input-group" style="width: 50%;">
                        {{ form.fastaFile }}
                        <label class="input-group-text" for="{{ form.fastaFile.id_for_label }}">Insert Fasta file</label>
                    </div>
                </div>
            </div>

            <div class="row form-group">
                <div id="buttonCard" class="col-12 d-flex justify-content-center">
                    <div class="card text-center" style="width: 50%;">
                      <div class="card-body">
                            <h5 class="card-title">So, you know how to ddRad?</h5>
                            <p class="card-text">Here are the different ways depending on your expertise of the project. Have fun!</p>
                            <button id="beginnerButton" type="button" class="btn btn-outline-danger right10">I have no idea!</button>
                            <button id="tryoutButton" type="button" class="btn btn-outline-warning right10">Lemme try out!</button>
                            <button id="expertButton" type="button" class="btn btn-outline-success">Yes, I know what I wanna do!</button>
                      </div>
                    </div>
                </div>
            </div>

            <div id="beginnerForm" style="display: none;">
                <hr/>
                <h1>Under Construction</h1>
                <hr/>
            </div>

            <div id="tryOutForm" style="display: none;">
                <hr/>

                {% for field in form %}
                    {% if 'Restriction Enzyme ' in  field.label %}
                    <label>{{ field.label }}</label> {{ field }}
                    {% endif %}
                {% endfor %}

                <hr/>
            </div>

            <div id="expertForm" style="display: none;">
                <hr/>
                <div class="row form-group">
                    <div class="col-6 d-flex justify-content-end text-center">
                        <label class="right4 col-form-label"> <b>{{ form.restrictionEnzyme1.label }}: </b> </label>
                        <div class="col-xs-10">
                            {{ form.restrictionEnzyme1 }}
                        </div>
                    </div>
                    <div class="col-6 d-flex text-center">
                        <label class="right4 col-form-label"><b>{{ form.restrictionEnzyme2.label }}: </b> </label>
                        <div class="col-xs-10">
                            {{ form.restrictionEnzyme2 }}
                        </div>
                        <div id='expertRestrictionHelp' class="questionIcon" style="margin-top:13px; margin-left: 10px;" data-bs-toggle="popover" title="Popover title" data-bs-content="And here's some amazing content. It's very engaging. Right?"></div>
                    </div>
                </div>

                <div class="row form-group">
                    <div class="col-6 d-flex justify-content-end">
                        <label class="bottom15 right4 col-form-label"> <b> {{ form.restrictionEnzyme3.label }}: </b> </label>
                        <div class="col-xs-10">
                            {{ form.restrictionEnzyme3 }}
                            <small class="text-muted">Optional</small>
                        </div>
                    </div>
                    <div class="col-6 d-flex">
                        <label class="bottom15 right4 col-form-label"> <b> {{ form.restrictionEnzyme4.label }}: </b> </label>
                        <div class="col-xs-10">
                            {{ form.restrictionEnzyme4 }}
                            <small class="text-muted">Optional</small>
                        </div>
                    </div>
                </div>
                <hr/>
            </div>


            <div class="row form-group">
                 <div class="center h6"> Sequence Calculation
                    <br>
                    <small class="text-muted"> For this function every field below is required </small>
                </div>
            </div>

            <div class="row form-group">
                <div class="col-6 d-flex justify-content-end">
                    <label class="bottom15 right4 col-form-label"> <b>{{ form.basepairLengthToBeSequenced.label }}: </b> </label>
                    <div id='basepairLengthToBeSequencedHelp' class="questionIcon" style="margin-top:13px; margin-right:6px;" data-bs-toggle="popover" title="Popover title" data-bs-content="And here's some amazing content. It's very engaging. Right?"></div>
                    <div class="col-xs-10">
                        {{ form.basepairLengthToBeSequenced }}
                        <small class="text-muted">Optional</small>
                    </div>
                </div>
                <div class="col-6 d-flex">
                        <div class="col-xs-10" style="margin-left: 62px; height: 62px;">
                            <div class="alignRadioButton">
                                {% for choice in form.pairedEndChoice %}
                                  {{ choice.tag }} <span class="left2 right10"> {{ choice.choice_label }} </span>
                                {% endfor %}
                            </div>
                        </div>
                </div>
            </div>

            <div class="row form-group">
                <div class="col-6 d-flex justify-content-end">
                    <label class="bottom15 right4 col-form-label"> <b>{{ form.sequencingYield.label }}: </b> </label>
                    <div id='sequencingYieldHelp' class="questionIcon" style="margin-top:13px; margin-right:6px;" data-bs-toggle="popover" title="Popover title" data-bs-content="And here's some amazing content. It's very engaging. Right?"></div>
                    <div class="col-xs-10" style="width: 12.8em;">
                        <div class="input-group">
                            {{ form.sequencingYield }}
                            <div class="input-group-append">
                                <span  class="input-group-text" for="{{ form.sequencingYield.id_for_label }}">x10<sup>6</sup></span >
                            </div>
                        </div>
                        <small class="text-muted">Optional</small>
                    </div>
                </div>

                <div class="col-6 d-flex">
                    <label class="bottom15 right4 col-form-label"> <b>{{ form.coverage.label }}: </b> </label>
                    <div class="col-xs-10">
                        {{ form.coverage }}
                        <small class="text-muted">Optional</small>
                    </div>
                </div>
            </div>

            <div class="row form-group">
                <div class="col-12 d-flex justify-content-center">
                    <input class="btn btn-primary" type="submit" value="Submit">
                </div>
            </div>
        </form>
    </div>

    {% if graph %}
    <div id="graph">
        <img class="center" src="{{ graph }}" width="900" height="{{ graphHeight }}">
    </div>
  {% endif %}

   {% if dataFrame %}
    <div id="dataFrame" class="center"></div>
    <div style="padding-top: 30px;"></div>
  {% endif %}

    {% if dataFrame1 and dataFrame2 %}
    <div id="dataFrames" class="dataFrames">
        <div id="dataFrame1" class="left"></div>
        <div id="dataFrame2" class="right"></div>
    </div>
    <div style="padding-top: 30px;"></div>
  {% endif %}

</body>
</html>